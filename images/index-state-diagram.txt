@startuml

'Index state diagram

New: SegmentIndex preparing data, SegmentIndex is not available
Ready: Ready to work
Close: Resources are freed, index is not available

[*] --> New: Open Index
New --> Ready: Lock resources
Ready --> Close: Free all resources
Close --> [*]

@enduml